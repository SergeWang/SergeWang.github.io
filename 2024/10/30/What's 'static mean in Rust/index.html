<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>What's 'static mean in Rust | Model The World</title><meta name="author" content="Serge Wang"><meta name="copyright" content="Serge Wang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="In Rust, &#39;static is a special lifetime that signifies that the data lives for the entire duration of the program. Here are some key points about &#39;static: Key Characteristics   Longest Lifetime: The &#39;s">
<meta property="og:type" content="article">
<meta property="og:title" content="What&#39;s &#39;static mean in Rust">
<meta property="og:url" content="https://sergewang.github.io/2024/10/30/What's%20'static%20mean%20in%20Rust/">
<meta property="og:site_name" content="Model The World">
<meta property="og:description" content="In Rust, &#39;static is a special lifetime that signifies that the data lives for the entire duration of the program. Here are some key points about &#39;static: Key Characteristics   Longest Lifetime: The &#39;s">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://sergewang.github.io/img/newlogo.png">
<meta property="article:published_time" content="2024-10-30T02:11:27.000Z">
<meta property="article:modified_time" content="2024-10-30T03:59:13.245Z">
<meta property="article:author" content="Serge Wang">
<meta property="article:tag" content="Rust">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sergewang.github.io/img/newlogo.png"><link rel="shortcut icon" href="/img/newlogo.png"><link rel="canonical" href="https://sergewang.github.io/2024/10/30/What's%20'static%20mean%20in%20Rust/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="IDUolVgWkW_cmu1mtW5hsxrrIjQfCHvq5hOTOkXeVNE"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?9dcb7eb7a8a6225c2b1f242f3b0894bf";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-XERFYF0N5K"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-XERFYF0N5K')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-XERFYF0N5K', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'What\'s \'static mean in Rust',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-30 11:59:13'
}</script></head><body><div id="web_bg" style="background-image: url(/img/background.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/newlogo.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/top-image.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/newlogo.png" alt="Logo"><span class="site-name">Model The World</span></a><a class="nav-page-title" href="/"><span class="site-name">What's 'static mean in Rust</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">What's 'static mean in Rust</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-30T02:11:27.000Z" title="发表于 2024-10-30 10:11:27">2024-10-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-30T03:59:13.245Z" title="更新于 2024-10-30 11:59:13">2024-10-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Rust/">Rust</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>In Rust, <code>'static</code> is a special lifetime that signifies that the data lives for the entire duration of the program. Here are some key points about <code>'static</code>:</p>
<h3 id="Key-Characteristics">Key Characteristics</h3>
<ol>
<li>
<p><strong>Longest Lifetime</strong>: The <code>'static</code> lifetime is the longest possible lifetime. Any data with a <code>'static</code> lifetime can be accessed anywhere in the program without worrying about it being dropped or going out of scope.</p>
</li>
<li>
<p><strong>String Literals</strong>: String literals have a <code>'static</code> lifetime because they are hardcoded into the program and exist for its entire runtime. For example:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span>: &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span> = <span class="string">&quot;Hello, world!&quot;</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>Heap Allocated Data</strong>: Data allocated on the heap can also have a <code>'static</code> lifetime if it’s managed in a way that ensures it remains accessible for as long as needed. For example, using <code>Box</code> or <code>Rc</code> with <code>Arc</code> can create <code>'static</code> references:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span>: <span class="type">Box</span>&lt;<span class="type">str</span>&gt; = <span class="type">Box</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Hello, world!&quot;</span>); <span class="comment">// The Box itself is not &amp;&#x27;static</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">r</span>: &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span> = <span class="type">Box</span>::<span class="title function_ invoke__">leak</span>(s); <span class="comment">// Now it&#x27;s &amp;&#x27;static</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>Function Signatures</strong>: When a function or struct is defined with <code>'static</code>, it means it can hold or return data that will last for the entire duration of the program. For example:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">get_static_str</span>() <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;static</span> <span class="type">str</span> &#123;</span><br><span class="line">    <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>Static Variables</strong>: Variables declared with the <code>static</code> keyword also have a <code>'static</code> lifetime. They are stored in a fixed memory location and exist for the entire lifetime of the program:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> GREETING: &amp;<span class="type">str</span> = <span class="string">&quot;Hello, world!&quot;</span>;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Use-Cases">Use Cases</h3>
<ul>
<li>
<p><strong>Thread Safety</strong>: When working with threads, you often need to ensure that data can be safely accessed from multiple threads. Data with a <code>'static</code> lifetime can be sent across threads without fear of it being dropped unexpectedly.</p>
</li>
<li>
<p><strong>Long-Lived Resources</strong>: If you have resources that should be available throughout your application (like configuration settings), using data with a <code>'static</code> lifetime can be beneficial.</p>
</li>
</ul>
<h3 id="Summary">Summary</h3>
<p>The <code>'static</code> lifetime in Rust indicates that data is valid for the entire duration of the program, which is useful for ensuring safety in memory management, particularly when dealing with multithreading or long-lived resources.</p>
<p>Lifetimes in Rust are a crucial concept for managing how long references to data are valid. They help ensure memory safety without needing a garbage collector. Here’s an overview of lifetimes, their purpose, and how to use them effectively:</p>
<h3 id="Key-Concepts">Key Concepts</h3>
<ol>
<li>
<p><strong>Purpose of Lifetimes</strong>:</p>
<ul>
<li>Lifetimes are used to track how long references are valid. This prevents dangling references, where a reference points to data that has been freed or gone out of scope.</li>
<li>They help the Rust compiler enforce rules about how references can be used in functions and structures.</li>
</ul>
</li>
<li>
<p><strong>Basic Syntax</strong>:</p>
<ul>
<li>A lifetime is denoted by an apostrophe followed by a name (e.g., <code>'a</code>, <code>'b</code>).</li>
<li>When you specify a lifetime for a reference, it tells the compiler how long that reference is valid in relation to other references.</li>
</ul>
</li>
</ol>
<h3 id="Lifetime-Annotations">Lifetime Annotations</h3>
<p>Lifetime annotations are needed when:</p>
<ul>
<li>You have multiple references in a function, and the compiler needs to know how the lifetimes of those references relate to each other.</li>
</ul>
<h4 id="Example-of-Lifetime-Annotations">Example of Lifetime Annotations</h4>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">longest</span>&lt;<span class="symbol">&#x27;a</span>&gt;(s1: &amp;<span class="symbol">&#x27;a</span> <span class="type">str</span>, s2: &amp;<span class="symbol">&#x27;a</span> <span class="type">str</span>) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> <span class="type">str</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> s1.<span class="title function_ invoke__">len</span>() &gt; s2.<span class="title function_ invoke__">len</span>() &#123;</span><br><span class="line">        s1</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        s2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this example:</p>
<ul>
<li><code>&lt;'a&gt;</code> specifies that both <code>s1</code> and <code>s2</code> are references with the same lifetime <code>'a</code>.</li>
<li>The return type <code>-&gt; &amp;'a str</code> indicates that the returned reference will also have the same lifetime.</li>
</ul>
<h3 id="Lifetime-Elision">Lifetime Elision</h3>
<p>Rust has some rules to make using lifetimes easier through lifetime elision. This means that in certain situations, you don’t need to specify lifetimes explicitly:</p>
<ol>
<li>If there is exactly one input lifetime, it is inferred as the lifetime of the output.</li>
<li>If there are two input lifetimes, but one of them is <code>&amp;self</code> or <code>&amp;mut self</code>, the other is inferred as the lifetime of the output.</li>
</ol>
<p>Example with elision:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">first_word</span>(s: &amp;<span class="type">str</span>) <span class="punctuation">-&gt;</span> &amp;<span class="type">str</span> &#123;</span><br><span class="line">    <span class="comment">// Elided lifetimes: the function implicitly has lifetimes</span></span><br><span class="line">    <span class="comment">// as: fn first_word&lt;&#x27;a&gt;(s: &amp;&#x27;a str) -&gt; &amp;&#x27;a str</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Lifetime-Boundaries">Lifetime Boundaries</h3>
<ol>
<li>
<p><strong>Structs with Lifetimes</strong>: You can define structs that hold references, and you must annotate their lifetimes.</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Book</span>&lt;<span class="symbol">&#x27;a</span>&gt; &#123;</span><br><span class="line">    title: &amp;<span class="symbol">&#x27;a</span> <span class="type">str</span>,</span><br><span class="line">    author: &amp;<span class="symbol">&#x27;a</span> <span class="type">str</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>Lifetime Subtyping</strong>: A reference with a longer lifetime can be assigned to a reference with a shorter lifetime, but not vice versa. This is important in function parameters.</p>
</li>
</ol>
<h3 id="Common-Lifetime-Scenarios">Common Lifetime Scenarios</h3>
<ol>
<li>
<p><strong>Dangling References</strong>: Rust will not allow you to create dangling references. The compiler checks that any reference must always point to valid data.</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">bad_reference</span>() <span class="punctuation">-&gt;</span> &amp;<span class="type">str</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    &amp;s <span class="comment">// Error: `s` is dropped here, making the reference invalid</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>Multiple References</strong>: When a function takes multiple references, the lifetimes help the compiler understand the relationship between them.</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">compare</span>&lt;<span class="symbol">&#x27;a</span>&gt;(a: &amp;<span class="symbol">&#x27;a</span> <span class="type">str</span>, b: &amp;<span class="symbol">&#x27;a</span> <span class="type">str</span>) <span class="punctuation">-&gt;</span> <span class="type">bool</span> &#123;</span><br><span class="line">    a == b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Lifetime-Bounds">Lifetime Bounds</h3>
<p>You can use lifetime bounds to specify that certain lifetimes must outlive others:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">example</span>&lt;<span class="symbol">&#x27;a</span>, T&gt;(x: &amp;<span class="symbol">&#x27;a</span> T) <span class="punctuation">-&gt;</span> &amp;<span class="symbol">&#x27;a</span> T &#123;</span><br><span class="line">    x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In this function, the lifetime of the reference <code>x</code> is tied to the lifetime <code>'a</code>.</p>
<h3 id="Conclusion">Conclusion</h3>
<p>Lifetimes in Rust are an essential feature for ensuring safe memory management without a garbage collector. They enable the compiler to enforce rules about how references can be used, helping to prevent common bugs like dangling references and memory leaks. Understanding lifetimes is crucial for writing safe and efficient Rust code.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://SergeWang.github.io">Serge Wang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://sergewang.github.io/2024/10/30/What's%20'static%20mean%20in%20Rust/">https://sergewang.github.io/2024/10/30/What's%20'static%20mean%20in%20Rust/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://SergeWang.github.io" target="_blank">Model The World</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Rust/">Rust</a></div><div class="post-share"><div class="social-share" data-image="/img/newlogo.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/10/30/What's%20derive%20mean%20in%20Rust/" title="What's derive mean in Rust"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">What's derive mean in Rust</div></div><div class="info-2"><div class="info-item-1">In Rust, the term “derive” typically refers to a procedural macro that automatically implements certain traits for your structs or enums. This feature helps reduce boilerplate code by generating implementations based on the structure of your types. Common Usage of derive When you use the #[derive(...)] attribute above a struct or enum, you’re telling the Rust compiler to automatically generate implementations of specified traits. Some common traits that can be derived include:  Debug:...</div></div></div></a><a class="pagination-related" href="/2024/10/28/%E4%B8%BB%E8%A6%81%E6%89%A9%E6%95%A3%E6%A8%A1%E5%9E%8B%E5%8F%8A%E5%85%B6%E7%9B%B8%E5%85%B3%E7%B1%BB%E5%88%AB/" title="主要扩散模型及其相关类别"><img class="cover" src="/images/diffusion-models.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">主要扩散模型及其相关类别</div></div><div class="info-2"><div class="info-item-1">  1.基于分数匹配的扩散模型 ● 噪声条件评分网络 (NCSN): 这是一种早期的基于分数匹配的扩散模型，它使用神经网络来学习数据分布的评分函数。 ● 潜空间评分生成模型 (LSGM): LSGM 使用变分自编码器 (VAE) 将数据压缩到潜空间，然后在潜空间中应用评分匹配来学习数据分布。 ● 基于分数的随机微分方程 (Score-SDE): Score-SDE 使用随机微分方程 (SDE) 来描述扩散过程，并使用神经网络来学习 SDE 的漂移项，该漂移项与数据分布的评分函数相关。 ● ScoreFlow: ScoreFlow 通过最大化似然函数的上界来训练基于分数的扩散模型。 2.潜变量模型 ● 潜扩散模型 (LDM): LDM 使用预训练的 VAE 将图像压缩到潜空间，然后在潜空间中应用扩散模型来生成图像。这种方法可以提高训练和推理效率，并生成更高质量的图像。 3.条件引导的扩散模型 ● 引导扩散 (GLIDE): GLIDE 使用分类器引导来控制扩散模型的生成过程，使其生成符合特定条件的图像。 ● 分类器引导扩散 (CfDG): CfDG...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2024/10/30/What's%20derive%20mean%20in%20Rust/" title="What&#39;s derive mean in Rust"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-30</div><div class="info-item-2">What&#39;s derive mean in Rust</div></div><div class="info-2"><div class="info-item-1">In Rust, the term “derive” typically refers to a procedural macro that automatically implements certain traits for your structs or enums. This feature helps reduce boilerplate code by generating implementations based on the structure of your types. Common Usage of derive When you use the #[derive(...)] attribute above a struct or enum, you’re telling the Rust compiler to automatically generate implementations of specified traits. Some common traits that can be derived include:  Debug:...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/newlogo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Serge Wang</div><div class="author-info-description">今日事，今日毕</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SergeWang"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/SergeWang" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:sergew027@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Welcome to my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Key-Characteristics"><span class="toc-number">1.</span> <span class="toc-text">Key Characteristics</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Use-Cases"><span class="toc-number">2.</span> <span class="toc-text">Use Cases</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Summary"><span class="toc-number">3.</span> <span class="toc-text">Summary</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Key-Concepts"><span class="toc-number">4.</span> <span class="toc-text">Key Concepts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lifetime-Annotations"><span class="toc-number">5.</span> <span class="toc-text">Lifetime Annotations</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Example-of-Lifetime-Annotations"><span class="toc-number">5.1.</span> <span class="toc-text">Example of Lifetime Annotations</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lifetime-Elision"><span class="toc-number">6.</span> <span class="toc-text">Lifetime Elision</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lifetime-Boundaries"><span class="toc-number">7.</span> <span class="toc-text">Lifetime Boundaries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Common-Lifetime-Scenarios"><span class="toc-number">8.</span> <span class="toc-text">Common Lifetime Scenarios</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lifetime-Bounds"><span class="toc-number">9.</span> <span class="toc-text">Lifetime Bounds</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conclusion"><span class="toc-number">10.</span> <span class="toc-text">Conclusion</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/11/11/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%E5%9B%9B%EF%BC%9ATOKENFORMER%EF%BC%9A%E7%94%A8%E6%A0%87%E8%AE%B0%E5%8C%96%E6%A8%A1%E5%9E%8B%E5%8F%82%E6%95%B0%E9%87%8D%E6%96%B0%E6%80%9D%E8%80%83Transformer%E7%BC%A9%E6%94%BE/" title="论文阅读十四：TOKENFORMER：用标记化模型参数重新思考Transformer缩放"><img src="/images/TokenFormer.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文阅读十四：TOKENFORMER：用标记化模型参数重新思考Transformer缩放"/></a><div class="content"><a class="title" href="/2024/11/11/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%E5%9B%9B%EF%BC%9ATOKENFORMER%EF%BC%9A%E7%94%A8%E6%A0%87%E8%AE%B0%E5%8C%96%E6%A8%A1%E5%9E%8B%E5%8F%82%E6%95%B0%E9%87%8D%E6%96%B0%E6%80%9D%E8%80%83Transformer%E7%BC%A9%E6%94%BE/" title="论文阅读十四：TOKENFORMER：用标记化模型参数重新思考Transformer缩放">论文阅读十四：TOKENFORMER：用标记化模型参数重新思考Transformer缩放</a><time datetime="2024-11-10T17:24:36.000Z" title="发表于 2024-11-11 01:24:36">2024-11-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/10/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%E4%B8%89%EF%BC%9A%E6%B7%B7%E5%90%88Transformer%EF%BC%9A%E4%B8%80%E7%A7%8D%E7%94%A8%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%A8%80%E7%96%8F%E5%8F%AF%E6%89%A9%E5%B1%95%E6%9E%B6%E6%9E%84/" title="论文阅读十三：混合Transformer：一种用于多模态基础模型的稀疏可扩展架构"><img src="/images/MoT.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文阅读十三：混合Transformer：一种用于多模态基础模型的稀疏可扩展架构"/></a><div class="content"><a class="title" href="/2024/11/10/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%E4%B8%89%EF%BC%9A%E6%B7%B7%E5%90%88Transformer%EF%BC%9A%E4%B8%80%E7%A7%8D%E7%94%A8%E4%BA%8E%E5%A4%9A%E6%A8%A1%E6%80%81%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%A8%80%E7%96%8F%E5%8F%AF%E6%89%A9%E5%B1%95%E6%9E%B6%E6%9E%84/" title="论文阅读十三：混合Transformer：一种用于多模态基础模型的稀疏可扩展架构">论文阅读十三：混合Transformer：一种用于多模态基础模型的稀疏可扩展架构</a><time datetime="2024-11-10T02:30:36.000Z" title="发表于 2024-11-10 10:30:36">2024-11-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/10/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%E4%BA%8C%EF%BC%9ALLM2CLIP%EF%BC%9A%E5%BC%BA%E5%A4%A7%E7%9A%84%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%A7%A3%E9%94%81%E6%9B%B4%E4%B8%B0%E5%AF%8C%E7%9A%84%E8%A7%86%E8%A7%89%E8%A1%A8%E7%8E%B0/" title="论文阅读十二：LLM2CLIP：强大的语言模型解锁更丰富的视觉表现"><img src="/images/LLM2CLIP.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文阅读十二：LLM2CLIP：强大的语言模型解锁更丰富的视觉表现"/></a><div class="content"><a class="title" href="/2024/11/10/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%E4%BA%8C%EF%BC%9ALLM2CLIP%EF%BC%9A%E5%BC%BA%E5%A4%A7%E7%9A%84%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E8%A7%A3%E9%94%81%E6%9B%B4%E4%B8%B0%E5%AF%8C%E7%9A%84%E8%A7%86%E8%A7%89%E8%A1%A8%E7%8E%B0/" title="论文阅读十二：LLM2CLIP：强大的语言模型解锁更丰富的视觉表现">论文阅读十二：LLM2CLIP：强大的语言模型解锁更丰富的视觉表现</a><time datetime="2024-11-10T02:23:36.000Z" title="发表于 2024-11-10 10:23:36">2024-11-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/10/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%E4%B8%80%EF%BC%9A%E7%A9%BF%E9%92%88%E5%BC%95%E7%BA%BF%EF%BC%9ALLMs%E8%83%BD%E5%90%A6%E7%A9%BF%E8%BF%87%E8%BF%91%E7%99%BE%E4%B8%87%E8%A7%84%E6%A8%A1%E7%9A%84%E5%B9%B2%E8%8D%89%E5%A0%86%EF%BC%9F/" title="论文阅读十一：穿针引线：LLMs能否穿过近百万规模的干草堆？"><img src="/images/needlethreading.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文阅读十一：穿针引线：LLMs能否穿过近百万规模的干草堆？"/></a><div class="content"><a class="title" href="/2024/11/10/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%E4%B8%80%EF%BC%9A%E7%A9%BF%E9%92%88%E5%BC%95%E7%BA%BF%EF%BC%9ALLMs%E8%83%BD%E5%90%A6%E7%A9%BF%E8%BF%87%E8%BF%91%E7%99%BE%E4%B8%87%E8%A7%84%E6%A8%A1%E7%9A%84%E5%B9%B2%E8%8D%89%E5%A0%86%EF%BC%9F/" title="论文阅读十一：穿针引线：LLMs能否穿过近百万规模的干草堆？">论文阅读十一：穿针引线：LLMs能否穿过近百万规模的干草堆？</a><time datetime="2024-11-10T02:18:36.000Z" title="发表于 2024-11-10 10:18:36">2024-11-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/10/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%EF%BC%9ABitNet%20a4.8%EF%BC%9A1%E4%BD%8DLLM%E7%9A%844%E4%BD%8D%E6%BF%80%E6%B4%BB/" title="论文阅读十：BitNet a4.8：1位LLM的4位激活"><img src="/images/bitneta48.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文阅读十：BitNet a4.8：1位LLM的4位激活"/></a><div class="content"><a class="title" href="/2024/11/10/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E5%8D%81%EF%BC%9ABitNet%20a4.8%EF%BC%9A1%E4%BD%8DLLM%E7%9A%844%E4%BD%8D%E6%BF%80%E6%B4%BB/" title="论文阅读十：BitNet a4.8：1位LLM的4位激活">论文阅读十：BitNet a4.8：1位LLM的4位激活</a><time datetime="2024-11-10T02:10:36.000Z" title="发表于 2024-11-10 10:10:36">2024-11-10</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Serge Wang</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (false) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>